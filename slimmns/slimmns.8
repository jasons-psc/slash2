.\" $Id$
.\" %PSC_START_COPYRIGHT%
.\" -----------------------------------------------------------------------------
.\" Copyright (c) 2009-2011, Pittsburgh Supercomputing Center (PSC).
.\"
.\" Permission to use, copy, and modify this software and its documentation
.\" without fee for personal use or non-commercial use within your organization
.\" is hereby granted, provided that the above copyright notice is preserved in
.\" all copies and that the copyright and this permission notice appear in
.\" supporting documentation.  Permission to redistribute this software to other
.\" organizations or individuals is not permitted without the written permission
.\" of the Pittsburgh Supercomputing Center.  PSC makes no representations about
.\" the suitability of this software for any purpose.  It is provided "as is"
.\" without express or implied warranty.
.\" -----------------------------------------------------------------------------
.\" %PSC_END_COPYRIGHT%
.Dd May 27, 2011
.Dt SLMKFS 8
.ds volume PSC \- SLASH Administrator's Manual
.Os http://www.psc.edu/
.Sh NAME
.Nm slmkfs
.Nd create a
.Tn SLASH
backing store file system
.Sh SYNOPSIS
.Nm slmkfs
.Op Fl iW
.Op Fl D Ar datadir
.Pa fsroot
.Sh DESCRIPTION
The
.Nm
utility initializes the internal file directory structure necessary for
use with
.Tn SLASH
metadata server and
.Tn I/O
node operation for the specified
file system root
.Ar fsroot .
.Pp
The directory structures includes facilities such as the immutable namespace,
which is responsible for providing persistent access to file data regardless of
file pathname renames and unlinks, and the replication queue.
.Pp
The following options are available:
.Bl -tag -indent Ds
.It Fl D Ar datadir
Specify an alternative directory where operation data is stored.
Defaults to
.Pa /var/lib/slash .
.It Fl i
Format a file system suitable for use with
.Tn I/O
nodes.
The default is to format the file system for use with an
.Tn MDS
server.
.It Fl W
Completely wipe all existing data on the destination file system before
initializing the internal structure.
.El
.Sh FILES
.Bl -tag -width Pa -compact
.It Ar fsroot Ns Pa /.slfidns
immutable namespace
.It Ar fsroot Ns Pa /.slrepls
replication queue
.El
.Sh SEE ALSO
.Xr sladm 7 ,
.Xr slashd 8
